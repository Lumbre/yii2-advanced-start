<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Yii2-advanced-start</title>
  <meta name="description" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Yii2-advanced-start</h1>
    </header>
    <div id="container">
      <p class="tagline"></p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/Dominus77/yii2-advanced-start/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/Dominus77/yii2-advanced-start/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/Dominus77/yii2-advanced-start" class="code">View Yii2-advanced-start on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>
<a id="yii-2-advanced-start-project-template" class="anchor" href="#yii-2-advanced-start-project-template" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Yii 2 Advanced Start Project Template</h1>

<p>The application is built using advanced pattern and has a modular structure.
Backend part uses AdminLTE template
Available console user management commands and RBAC system. All available commands can be found by following in the console: php yii</p>

<ul>
<li><a href="http://dominus77.github.io/yii2-advanced-start">Web page</a></li>
<li><a href="https://github.com/Dominus77/yii2-advanced-start">github.com</a></li>
</ul>

<h2>
<a id="base-components" class="anchor" href="#base-components" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Base components</h2>

<p>Pages (backend AdminLTE template)</p>

<ul>
<li>Home</li>
<li>Users</li>
<li>Login</li>
</ul>

<p>Pages (frontend)</p>

<ul>
<li>Home</li>
<li>Contact</li>
<li>Sign Up</li>
<li>Login</li>
</ul>

<p>Modules</p>

<ul>
<li>main</li>
<li>rbac</li>
<li>users</li>
</ul>

<p>Functional</p>

<ul>
<li>Reset password</li>
<li>Confirmation by email</li>
<li>Last visit</li>
<li>Registration Type</li>
</ul>

<p>System</p>

<ul>
<li>RBAC (DbManager)</li>
<li>Manage users</li>
<li>Console commands</li>
<li>i18n</li>
</ul>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<p>The minimum requirement by this project template that your Web server supports PHP 5.4.0.</p>

<h2>
<a id="directory-structure" class="anchor" href="#directory-structure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DIRECTORY STRUCTURE</h2>

<pre><code>common
    assets/              contains application assets such as JavaScript and CSS
    components/          contains components frontend, backend and console
    config/              contains shared configurations
    mail/                contains layouts files for e-mails
    messages/            contains i18n backend frontend
    models/              contains model classes used in both backend and frontend
    widgets/             contains widgets backend and frontend
console
    components/          contains console components
    config/              contains console configurations
    controllers/         contains console controllers (commands)
    messages/            contains i18n console
    migrations/          contains database migrations
    models/              contains console-specific model classes
    runtime/             contains files generated during runtime
backend
    assets/              contains application assets such as JavaScript and CSS
    components/          contains backend components
    config/              contains backend configurations
    controllers/         contains Web controller classes
    messages/            contains i18n backend
    models/              contains backend-specific model classes
    runtime/             contains files generated during runtime
    views/               contains view files for the Web application
    web/                 contains the entry script and Web resources
    widgets/             contains backend widgets
frontend
    assets/              contains application assets such as JavaScript and CSS
    config/              contains frontend configurations
    controllers/         contains Web controller classes
    messages/            contains i18n frontend
    models/              contains frontend-specific model classes
    runtime/             contains files generated during runtime
    views/               contains view files for the Web application
    web/                 contains the entry script and Web resources
    widgets/             contains frontend widgets
vendor/                  contains dependent 3rd-party packages
environments/            contains environment-based overrides
tests                    contains various tests for the advanced application
    codeception/         contains tests developed with Codeception PHP Testing Framework
modules/
    main/               contains module main
        controllers/    contains module Web controller classes
            backend/    contains module backend Web controller classes
            frontend/   contains module frontend Web controller classes
        messages/       contains i18n module
        models/         contains module-specific model classes
            backend/    contains module backend-specific model classes
            frontend/   contains module frontend-specific model classes
        views/          contains module view files for the Web application
            backend/    contains module backend view files for the Web application
            frontend/   contains module frontend view files for the Web application
        Bootstrap.php   File autoload module settings app components (urlManager)
        Module.php      General Module class
    rbac/               contains module rbac
        commands/       contains console controllers (commands)
        controllers/    contains module Web controller classes
            backend/    contains module backend Web controller classes
        migrations/     contains database migrations module
        models/         contains module-specific model classes
        rules/          contains rbac specific rules
        views/          contains module view files for the Web application
            backend/    contains module backend view files for the Web application
        Bootstrap.php   File autoload module settings app components (urlManager)
        Module.php      General Module class
    users/              contains module users
        commands/       contains console controllers (commands)
        components/     contains module components
        controllers/    contains module Web controller classes
            backend/    contains module backend Web controller classes
            frontend/   contains module frontend Web controller classes
        mail/           contains module view files for e-mails
        messages/       contains i18n module
        migrations/     contains database migrations module
        models/         contains module-specific model classes
            backend/    contains module backend-specific model classes
            frontend/   contains module frontend-specific model classes
        views/          contains module view files for the Web application
            backend/    contains module backend view files for the Web application
            frontend/   contains module frontend view files for the Web application
        Bootstrap.php   File autoload module settings app components (urlManager)
        Module.php      General Module class
</code></pre>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>INSTALLATION</h2>

<p>Create a project:</p>

<pre><code>composer global require "fxp/composer-asset-plugin:~1.2.0"
composer create-project --prefer-dist --stability=dev dominus77/yii2-advanced-start advanced-project
</code></pre>

<p>or clone the repository for <code>pull</code> command availability:</p>

<pre><code>git clone https://github.com/Dominus77/yii2-advanced-start.git advanced-project
cd advanced-project
composer global require "fxp/composer-asset-plugin:~1.2.0"
composer install
</code></pre>

<p>Init an environment:</p>

<pre><code>php init
</code></pre>

<p>Create a database, default configure: yii2-advanced-start</p>

<p>Apply migration:</p>

<pre><code>php yii migrate
</code></pre>

<p>See all available commands:</p>

<pre><code>php yii
</code></pre>

<p>Initialization RBAC:</p>

<pre><code>php yii rbac/rbac/init
</code></pre>

<p>Create user, enter the command and follow the instructions:</p>

<pre><code>php yii users/user/create
</code></pre>

<ul>
<li>Username: set username (admin);</li>
<li>Email: set email username (<a href="mailto:admin@example.com">admin@example.com</a>);</li>
<li>Password: set password username (min 6 symbol);</li>
<li>Status: set status username (0 - blocked, 1 - active, 2 - wait, ? - Help);</li>
</ul>

<p>Assign role admin:</p>

<pre><code>php yii rbac/roles/assign
</code></pre>

<ul>
<li>Username: set username (admin);</li>
<li>Role: set role (admin, manager, moder, user, ? - Help);</li>
</ul>

<p>If you are installing the server into the public_html folder on the server with Apache, you must configure redirection.
At the root folder, create a public_html .hitaccess with the following content:</p>

<pre><code>Options FollowSymLinks
AddDefaultCharset utf-8

&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On

    # the main rewrite rule for the frontend application
    RewriteCond %{REQUEST_URI} !^/(backend/web|admin)
    RewriteRule !^frontend/web /frontend/web%{REQUEST_URI} [L]

    # redirect to the page without a trailing slash (uncomment if necessary)
    #RewriteCond %{REQUEST_URI} ^/admin/$
    #RewriteRule ^(admin)/ /$1 [L,R=301]
    # the main rewrite rule for the backend application
    RewriteCond %{REQUEST_URI} ^/admin
    RewriteRule ^admin(.*) /backend/web/$1 [L]

    # if a directory or a file of the frontend application exists, use the request directly
    RewriteCond %{REQUEST_URI} ^/frontend/web
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    # otherwise forward the request to index.php
    RewriteRule . /frontend/web/index.php [L]

    # if a directory or a file of the backend application exists, use the request directly
    RewriteCond %{REQUEST_URI} ^/backend/web
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    # otherwise forward the request to index.php
    RewriteRule . /backend/web/index.php [L]

    RewriteCond %{REQUEST_URI} \.(htaccess|htpasswd|svn|git)
    RewriteRule \.(htaccess|htpasswd|svn|git) - [F]
&lt;/IfModule&gt;
</code></pre>

<p>The web folder, the backend and frontend parts also add .hitaccess:</p>

<pre><code>RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . index.php
</code></pre>

<p>Now frontend is available at <a href="http://advanced-project.com">http://advanced-project.com</a>, and backend at <a href="http://advanced-project.com/admin">http://advanced-project.com/admin</a></p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/Dominus77" class="avatar"><img src="https://avatars3.githubusercontent.com/u/9594483?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/Dominus77">Dominus77</a> maintains <a href="https://github.com/Dominus77/yii2-advanced-start">Yii2-advanced-start</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/Dominus77/yii2-advanced-start/tarball/master" class="tar">tar</a><a href="https://github.com/Dominus77/yii2-advanced-start/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
