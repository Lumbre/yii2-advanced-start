{
  "name": "Yii2-advanced-start",
  "tagline": "Dominus77, yii2, advanced, template start",
  "body": "Yii 2 Advanced Start Project Template\r\n===============================\r\n\r\nThe application is built using advanced pattern and has a modular structure.\r\nBackend part uses [AdminLTE](https://almsaeedstudio.com) template\r\nAvailable console user management commands and RBAC system.\r\n\r\n- [Web page](http://dominus77.github.io/yii2-advanced-start)\r\n- [github.com](https://github.com/Dominus77/yii2-advanced-start)\r\n\r\nBase components\r\n------\r\n\r\nPages (backend AdminLTE template)\r\n- Home\r\n- Users\r\n- Login and Logout\r\n\r\nPages (frontend)\r\n- Home\r\n- Contact\r\n- Sign Up\r\n- Login\r\n\r\nModules\r\n- main\r\n- rbac\r\n- users\r\n\r\nFunctional\r\n- Reset password\r\n- Confirmation by email\r\n- Last visit\r\n- Registration Type\r\n\r\nSystem\r\n- RBAC (DbManager)\r\n- Manage users\r\n- Console commands\r\n- i18n\r\n\r\nRequirements\r\n------\r\n\r\nThe minimum requirement by this project template that your Web server supports PHP 5.4.0.\r\n\r\nDIRECTORY STRUCTURE\r\n-------------------\r\n\r\n```\r\napi\r\n    components/          contains components api application\r\n    config/              contains api application configurations\r\n    messages/            contains i18n api application\r\n    modules/             contains modules api version application\r\n    runtime/             contains files generated during runtime\r\n    tests/               contains tests for api application\r\n    web/                 contains the entry script\r\ncommon\r\n    assets/              contains application assets such as JavaScript and CSS\r\n    components/          contains components frontend, backend and console\r\n    config/              contains shared configurations\r\n    mail/                contains layouts files for e-mails\r\n    messages/            contains i18n backend frontend\r\n    models/              contains model classes used in both backend and frontend\r\n    tests/               contains tests for common classes\r\n    widgets/             contains widgets backend and frontend\r\nconsole\r\n    components/          contains console components\r\n    config/              contains console configurations\r\n    controllers/         contains console controllers (commands)\r\n    messages/            contains i18n console\r\n    migrations/          contains database migrations\r\n    models/              contains console-specific model classes\r\n    runtime/             contains files generated during runtime\r\nbackend\r\n    assets/              contains application assets such as JavaScript and CSS\r\n    components/          contains backend components\r\n    config/              contains backend configurations\r\n    controllers/         contains Web controller classes\r\n    messages/            contains i18n backend\r\n    models/              contains backend-specific model classes\r\n    runtime/             contains files generated during runtime\r\n    tests/               contains tests for backend application\r\n    views/               contains view files for the Web application\r\n    web/                 contains the entry script and Web resources\r\n    widgets/             contains backend widgets\r\nfrontend\r\n    assets/              contains application assets such as JavaScript and CSS\r\n    config/              contains frontend configurations\r\n    controllers/         contains Web controller classes\r\n    messages/            contains i18n frontend\r\n    models/              contains frontend-specific model classes\r\n    runtime/             contains files generated during runtime\r\n    tests/               contains tests for frontend application\r\n    views/               contains view files for the Web application\r\n    web/                 contains the entry script and Web resources\r\n    widgets/             contains frontend widgets\r\nvendor/                  contains dependent 3rd-party packages\r\nenvironments/            contains environment-based overrides\r\nmodules/\r\n    main/               contains module main\r\n        controllers/    contains module Web controller classes\r\n            backend/    contains module backend Web controller classes\r\n            frontend/   contains module frontend Web controller classes\r\n        messages/       contains i18n module\r\n        models/         contains module-specific model classes\r\n            backend/    contains module backend-specific model classes\r\n            frontend/   contains module frontend-specific model classes\r\n        views/          contains module view files for the Web application\r\n            backend/    contains module backend view files for the Web application\r\n            frontend/   contains module frontend view files for the Web application\r\n        Bootstrap.php   File autoload module settings app components (urlManager)\r\n        Module.php      General Module class\r\n    rbac/               contains module rbac\r\n        commands/       contains console controllers (commands)\r\n        controllers/    contains module Web controller classes\r\n            backend/    contains module backend Web controller classes\r\n        migrations/     contains database migrations module\r\n        models/         contains module-specific model classes\r\n        rules/          contains rbac specific rules\r\n        views/          contains module view files for the Web application\r\n            backend/    contains module backend view files for the Web application\r\n        Bootstrap.php   File autoload module settings app components (urlManager)\r\n        Module.php      General Module class\r\n    users/              contains module users\r\n        commands/       contains console controllers (commands)\r\n        components/     contains module components\r\n        controllers/    contains module Web controller classes\r\n            backend/    contains module backend Web controller classes\r\n            frontend/   contains module frontend Web controller classes\r\n        mail/           contains module view files for e-mails\r\n        messages/       contains i18n module\r\n        migrations/     contains database migrations module\r\n        models/         contains module-specific model classes\r\n            backend/    contains module backend-specific model classes\r\n            frontend/   contains module frontend-specific model classes\r\n        views/          contains module view files for the Web application\r\n            backend/    contains module backend view files for the Web application\r\n            frontend/   contains module frontend view files for the Web application\r\n        Bootstrap.php   File autoload module settings app components (urlManager)\r\n        Module.php      General Module class\r\n```\r\n\r\nINSTALLATION\r\n------------\r\n\r\nCreate a project:\r\n~~~\r\ncomposer global require \"fxp/composer-asset-plugin:~1.2.0\"\r\ncomposer create-project --prefer-dist --stability=dev dominus77/yii2-advanced-start advanced-project\r\n~~~\r\n\r\nor clone the repository for `pull` command availability:\r\n\r\n~~~\r\ngit clone https://github.com/Dominus77/yii2-advanced-start.git advanced-project\r\ncd advanced-project\r\ncomposer global require \"fxp/composer-asset-plugin:~1.2.0\"\r\ncomposer install\r\n~~~\r\n\r\nInit an environment:\r\n\r\n~~~\r\nphp init\r\n~~~\r\n\r\nCreate a database, default configure yii2-advanced-start in common\\config\\main-local.php\r\n\r\n~~~\r\n...\r\n'components' => [\r\n    'db' => [\r\n        'dsn' => 'mysql:host=localhost;dbname=yii2-advanced-start',\r\n        ...\r\n    ],\r\n    ...\r\n],\r\n...\r\n~~~\r\n\r\nApply migration:\r\n\r\n~~~\r\nphp yii migrate\r\n~~~\r\n\r\nSee all available commands:\r\n\r\n~~~\r\nphp yii\r\n~~~\r\n\r\nInitialization RBAC:\r\n\r\n~~~\r\nphp yii rbac/rbac/init\r\n~~~\r\n\r\nCreate user, enter the command and follow the instructions:\r\n\r\n~~~\r\nphp yii users/user/create\r\n~~~\r\n\r\n- Username: set username (admin);\r\n- Email: set email (admin@example.com);\r\n- Password: set password (min 6 symbol);\r\n- Status: set status (0 - blocked, 1 - active, 2 - wait, ? - Help);\r\n\r\nAssign role admin:\r\n\r\n~~~\r\nphp yii rbac/roles/assign\r\n~~~\r\n\r\n- Username: set username (admin);\r\n- Role: set role (admin, manager, moder, user, ? - Help);\r\n\r\n\r\nIf you are installing the server into the public_html folder on the server with Apache, you must configure redirection.\r\nAt the root folder, create a public_html .hitaccess with the following content:\r\n\r\n~~~\r\nOptions FollowSymLinks\r\nAddDefaultCharset utf-8\r\n\r\n<IfModule mod_rewrite.c>\r\n    RewriteEngine On\r\n\r\n    # the main rewrite rule for the frontend application\r\n    RewriteCond %{REQUEST_URI} !^/(backend/web|admin)\r\n    RewriteCond %{REQUEST_URI} !^/(api/web|api)\r\n    RewriteRule !^frontend/web /frontend/web%{REQUEST_URI} [L]\r\n\r\n    # redirect to the page without a trailing slash (uncomment if necessary)\r\n    #RewriteCond %{REQUEST_URI} ^/admin/$\r\n    #RewriteRule ^(admin)/ /$1 [L,R=301]\r\n    # the main rewrite rule for the backend application\r\n    RewriteCond %{REQUEST_URI} ^/admin\r\n    RewriteRule ^admin(.*) /backend/web/$1 [L]\r\n\r\n    # redirect to the page without a trailing slash (uncomment if necessary)\r\n    #RewriteCond %{REQUEST_URI} ^/api/$\r\n    #RewriteRule ^(api)/ /$1 [L,R=301]\r\n    # the main rewrite rule for the api application\r\n    RewriteCond %{REQUEST_URI} ^/api\r\n    RewriteRule ^api(.*) /api/web/$1 [L]\r\n\r\n    # if a directory or a file of the frontend application exists, use the request directly\r\n    RewriteCond %{REQUEST_URI} ^/frontend/web\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    # otherwise forward the request to index.php\r\n    RewriteRule . /frontend/web/index.php [L]\r\n\r\n    # if a directory or a file of the backend application exists, use the request directly\r\n    RewriteCond %{REQUEST_URI} ^/backend/web\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    # otherwise forward the request to index.php\r\n    RewriteRule . /backend/web/index.php [L]\r\n\r\n    # if a directory or a file of the api application exists, use the request directly\r\n    RewriteCond %{REQUEST_URI} ^/api/web\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    # otherwise forward the request to index.php\r\n    RewriteRule . /api/web/index.php [L]\r\n\r\n    RewriteCond %{REQUEST_URI} \\.(htaccess|htpasswd|svn|git)\r\n    RewriteRule \\.(htaccess|htpasswd|svn|git) - [F]\r\n</IfModule>\r\n~~~\r\n\r\nThe web folder, the backend, frontend and api parts also add .hitaccess:\r\n\r\n~~~\r\nRewriteEngine On\r\nRewriteCond %{REQUEST_FILENAME} !-f\r\nRewriteCond %{REQUEST_FILENAME} !-d\r\nRewriteRule . index.php\r\n~~~\r\n\r\nNow frontend is available at http://mysite.com, and backend at http://mysite.com/admin, and api http://mysite.com/api/v1/user\r\n\r\nTESTING\r\n-------\r\n\r\nCreate a database, default configure yii2-advanced-start in common\\config\\test-local.php\r\n\r\n~~~\r\n...\r\n'components' => [\r\n    'db' => [\r\n        'dsn' => 'mysql:host=localhost;dbname=yii2-advanced-start_test',\r\n    ],\r\n]\r\n...\r\n~~~\r\n\r\nApply migration:\r\n\r\n~~~\r\nphp yii_test migrate/up\r\n~~~\r\n\r\nRun in console:\r\n\r\n~~~\r\ncodecept build\r\ncodecept run\r\n~~~\r\n\r\n\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}